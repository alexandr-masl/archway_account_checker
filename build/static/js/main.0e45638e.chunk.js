(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,n){e.exports=n.p+"static/media/logo.a3b68a90.svg"},194:function(e,t){},249:function(e,t,n){e.exports=n(552)},255:function(e,t,n){},259:function(e,t,n){},275:function(e,t){},301:function(e,t){},303:function(e,t){},313:function(e,t){},315:function(e,t){},340:function(e,t){},342:function(e,t){},343:function(e,t){},348:function(e,t){},350:function(e,t){},357:function(e,t){},376:function(e,t){},388:function(e,t){},391:function(e,t){},552:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(242),s=n.n(r),o=(n(255),n(123)),l=n(5),u=n.n(l),i=n(47),m=n(243),d=n(244),g=n(247),p=n(245),f=n(248),b=n(122),h=n.n(b),E=(n(259),n(76)),v=n(246),w=n(77),x=n(63),y=n(37),C={chainId:"constantine-1",chainName:"Constantine Testnet",rpc:"https://rpc.constantine-1.archway.tech",rest:"https://api.constantine-1.archway.tech",stakeCurrency:{coinDenom:"CONST",coinMinimalDenom:"uconst",coinDecimals:6},bip44:{coinType:118},bech32Config:{bech32PrefixAccAddr:"archway",bech32PrefixAccPub:"archwaypub",bech32PrefixValAddr:"archwayvaloper",bech32PrefixValPub:"archwayvaloperpub",bech32PrefixConsAddr:"archwayvalcons",bech32PrefixConsPub:"archwayvalconspub"},currencies:[{coinDenom:"CONST",coinMinimalDenom:"uconst",coinDecimals:6}],feeCurrencies:[{coinDenom:"CONST",coinMinimalDenom:"uconst",coinDecimals:6}],coinType:118,gasPriceStep:{low:0,average:.1,high:.2},faucets:["https://faucet.constantine-1.archway.tech"],features:["cosmwasm"]},N=C.rpc,S={name:""},k=function(e){var t=Object(a.useState)(S),n=Object(w.a)(t,2),r=n[0],s=r.name,o=(r.email,r.message,n[1]),l=Object(a.useState)(!1),m=Object(w.a)(l,2),d=m[0],g=m[1],p=Object(a.useState)({}),f=Object(w.a)(p,2),b=f[0],h=f[1],y=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,a,c,r,o,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.CosmWasmClient.connect(N);case 3:return n=e.sent,a=!d,"uconst",e.prev=6,e.next=9,n.getBalance(s,"uconst");case 9:return c=e.sent,e.next=12,n.getChainId();case 12:return r=e.sent,e.next=15,n.getAccount(s);case 15:o=e.sent,l={balance:c.amount.toString(),chain_id:r.toString(),acc_number:o.accountNumber,address:o.address,pubkey_type:o.pubkey.type,pubkey_value:o.pubkey.value},h(l),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),h({err:"Account not found.."});case 23:g(a);case 24:case"end":return e.stop()}},e,null,[[6,20]])}));return function(t){return e.apply(this,arguments)}}(),C=c.a.createElement("div",null,c.a.createElement("div",{id:"contact"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"section-title"},c.a.createElement("h2",null,"Check Account INFO")),c.a.createElement("form",{name:"sentMessage",validate:!0,onSubmit:y},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"Input Account Adress",required:!0,onChange:function(e){var t=e.target,n=t.name,a=t.value;o(function(e){return Object(v.a)({},e,Object(E.a)({},n,a))})}}),c.a.createElement("p",{className:"help-block text-danger"})))),c.a.createElement("div",{id:"success"}),c.a.createElement("button",{type:"submit",className:"btn btn-custom btn-lg"},"Check Balance"))))))),k=c.a.createElement("div",null,c.a.createElement("div",{id:"contact"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"section-title"},c.a.createElement("h2",null," Account Info"),b.err),c.a.createElement("form",{name:"sentMessage",validate:!0,onSubmit:y},c.a.createElement("button",{type:"submit",className:"btn btn-custom btn-lg"},"Check another account"))))))),O=c.a.createElement("div",null,c.a.createElement("div",{id:"contact"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"section-title"},c.a.createElement("h2",null," Account Info"),c.a.createElement("h3",null,"Account Number: ",b.acc_number),c.a.createElement("p",null,"Adress: ",b.address),c.a.createElement("p",null,"Balance UCONST: ",b.balance),c.a.createElement("p",null,"Chain ID: ",b.chain_id),c.a.createElement("p",null,"Public key type: ",b.pubkey_type),c.a.createElement("p",null,"Public key value: ",b.pubkey_value)),c.a.createElement("form",{name:"sentMessage",validate:!0,onSubmit:y},c.a.createElement("button",{type:"submit",className:"btn btn-custom btn-lg"},"Check another account")))))));return d?b.err?k:O:C},O=C.rpc,A="archway1lkrpk8laquyrtfzp9w0wtzy99qhmpm5zx4mjcmk525pwrd9lrpyq7rtrfe",j=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(g.a)(this,Object(p.a)(t).call(this,e))).connectWallet=Object(i.a)(u.a.mark(function e(){var t,a,c,r,s,o,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Connecting wallet..."),e.prev=1,!window){e.next=36;break}if(!window.keplr){e.next=33;break}if(!window.keplr.experimentalSuggestChain){e.next=30;break}return e.next=7,window.keplr.experimentalSuggestChain(n.state.chainMeta);case 7:return e.next=9,window.keplr.enable(n.state.chainMeta.chainId);case 9:return e.next=11,window.getOfflineSigner(n.state.chainMeta.chainId);case 11:return t=e.sent,console.log("offlineSigner",t),e.next=15,x.SigningCosmWasmClient.connectWithSigner(n.state.rpc,t);case 15:return a=e.sent,e.next=18,t.getAccounts();case 18:return c=e.sent,r=a.queryClient.wasm.queryContractSmart,s=y.GasPrice.fromString("0.002uconst"),o=c[0].address,n.setState({accounts:c,userAddress:o,cwClient:a,queryHandler:r,gasPrice:s,offlineSigner:t}),console.log("dApp Connected",{accounts:n.state.accounts,userAddress:n.state.userAddress,client:n.state.cwClient,queryHandler:n.state.queryHandler,gasPrice:n.state.gasPrice,offlineSigner:n.state.offlineSigner}),e.next=26,n.getCount();case 26:l=e.sent;try{isNaN(l.count)?console.warn("Error expected numeric value from counter, found: ",typeof l.count):n.setState({counter:l.count})}catch(u){console.warn("Error: failed getting counter value",u)}e.next=31;break;case 30:console.warn("Error access experimental features, please update Keplr");case 31:e.next=34;break;case 33:console.warn("Error accessing Keplr");case 34:e.next=37;break;case 36:console.warn("Error parsing window object");case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(1),console.error("Error connecting to wallet",e.t0);case 42:case"end":return e.stop()}},e,null,[[1,39]])})),n.getCount=Object(i.a)(u.a.mark(function e(){var t,a,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={status:!0,msg:"Refreshing counter..."},n.setState({loadingStatus:t.status,loadingMsg:t.msg}),a={get_count:{}},e.next=5,n.state.queryHandler(n.state.contract,a);case 5:return c=e.sent,t={status:!1,msg:""},n.setState({loadingStatus:t.status,loadingMsg:t.msg}),console.log("Counter Queried",c),e.abrupt("return",c);case 10:case"end":return e.stop()}},e)})),n.incrementCounter=Object(i.a)(u.a.mark(function e(){var t,a,c,r,s,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.accounts){e.next=5;break}return console.warn("Error getting accounts",n.state.accounts),e.abrupt("return");case 5:if(n.state.userAddress){e.next=8;break}return console.warn("Error getting user address",n.state.userAddress),e.abrupt("return");case 8:return t={status:!0,msg:"Incrementing counter..."},n.setState({loadingStatus:t.status,loadingMsg:t.msg}),a={increment:{}},c=Object(y.calculateFee)(3e5,n.state.gasPrice),console.log("Tx args",{senderAddress:n.state.userAddress,contractAddress:n.state.contract,msg:a,fee:c}),e.prev=13,e.next=16,n.state.cwClient.execute(n.state.userAddress,n.state.contract,a,c);case 16:return r=e.sent,console.log("Increment Tx",r),r.logs&&r.logs.length&&(r.logs[0].type="increment",r.logs[0].timestamp=(new Date).getTime(),n.setState({logs:[JSON.stringify(r.logs,null,2)].concat(Object(o.a)(n.state.logs))})),e.next=21,n.getCount();case 21:s=e.sent,isNaN(s.count)?(l=n.state.counter,console.warn("Error expected numeric value from counter, found: ",typeof s.count)):l=s.count,t={status:!1,msg:""},n.setState({counter:l,loadingStatus:t.status,loadingMsg:t.msg}),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(13),console.warn("Error exceuting Increment",e.t0),t={status:!1,msg:""},n.setState({loadingStatus:t.status,loadingMsg:t.msg});case 32:case"end":return e.stop()}},e,null,[[13,27]])})),n.resetCounter=Object(i.a)(u.a.mark(function e(){var t,a,c,r,s,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.accounts){e.next=5;break}return console.warn("Error getting user account",n.state.accounts),e.abrupt("return");case 5:if(n.state.userAddress){e.next=8;break}return console.warn("Error getting user address",n.state.userAddress),e.abrupt("return");case 8:return t={status:!0,msg:"Resetting counter..."},n.setState({loadingStatus:t.status,loadingMsg:t.msg}),a={reset:{count:0}},c=Object(y.calculateFee)(3e5,n.state.gasPrice),e.prev=12,e.next=15,n.state.cwClient.execute(n.state.userAddress,n.state.contract,a,c);case 15:return r=e.sent,console.log("Reset Tx",r),r.logs&&r.logs.length&&(r.logs[0].type="reset",r.logs[0].timestamp=(new Date).getTime(),n.setState({logs:[JSON.stringify(r.logs,null,2)].concat(Object(o.a)(n.state.logs))})),e.next=20,n.getCount();case 20:s=e.sent,isNaN(s.count)?(l=n.state.counter,console.warn("Error expected numeric value from counter, found: ",typeof s.count)):l=s.count,t={status:!1,msg:""},n.setState({counter:l,loadingStatus:t.status,loadingMsg:t.msg}),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(12),console.warn("Error executing Reset",e.t0),t={status:!1,msg:""},n.setState({loadingStatus:t.status,loadingMsg:t.msg});case 31:case"end":return e.stop()}},e,null,[[12,26]])})),n.state={contract:A,counter:null,cwClient:null,offlineSigner:null,chainMeta:C,gasPrice:null,queryHandler:null,loadingStatus:!1,loadingMsg:"",logs:[],rpc:O,accounts:null,userAddress:null},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){for(var e=this.state.counter,t=this.state.loadingMsg,n=this.state.userAddress,a=[],r=0;r<this.state.logs.length;r++){var s=JSON.parse(this.state.logs[r]),o={type:s[0].type,timestamp:s[0].timestamp};a.push(o)}var l=this.state.logs.length?this.state.logs.map(function(e,t){return c.a.createElement("div",{key:a[t].timestamp},c.a.createElement("p",{className:"label"},c.a.createElement("strong",null,c.a.createElement("span",null,"Counter ","increment"===a[t].type?"Incremented":"Reset","\xa0"),"(",a[t].timestamp,"):")),c.a.createElement("pre",{className:"log-entry",key:t},e))}):null;return n?c.a.createElement("div",{className:"content"},c.a.createElement("img",{src:h.a,alt:"logo"}),c.a.createElement("div",{className:"status-display"},c.a.createElement("ul",{className:"status"},c.a.createElement("li",{className:"counter"},c.a.createElement("strong",null,"Counter:"),"\xa0",e))),c.a.createElement("div",{className:"button-controls"},c.a.createElement("button",{id:"incrementer",className:"btn btn-main",onClick:this.incrementCounter},"Increment Counter"),c.a.createElement("button",{id:"resetter",className:"btn btn-alt",onClick:this.resetCounter},"Reset Counter")),c.a.createElement("div",null,c.a.createElement(k,null)),function(e){if(!e)return;return c.a.createElement("div",{className:"loading"},c.a.createElement("p",null,e))}(t),c.a.createElement("div",{className:"logs"},c.a.createElement("div",null,l))):c.a.createElement("div",{className:"content"},c.a.createElement("img",{src:h.a,alt:"logo"}),c.a.createElement("div",{className:"button-controls"},c.a.createElement("button",{id:"connect",className:"btn btn-main",onClick:this.connectWallet},"Connect Wallet")),c.a.createElement("div",null,c.a.createElement(k,null)))}}]),t}(a.Component);var M=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,553)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)})};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),M()}},[[249,3,2]]]);
//# sourceMappingURL=main.0e45638e.chunk.js.map